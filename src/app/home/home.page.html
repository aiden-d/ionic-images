<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>
      MemoGram <ion-icon name="camera"></ion-icon>
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-card>
    <ion-card-header>
      <ion-card-title>Create New Memory</ion-card-title>
    </ion-card-header>
    <ion-card-content>

      <form (ngSubmit)="createNewMemory()">
        <ion-item>
          <ion-input (change)="onImageSelected($event)" type="file" placeholder="Pick Image" id="filepicker"
            accept=".png, .jpg, .jpeg"></ion-input>
        </ion-item>
        <ion-item>
          <ion-label>Desribe the memory:</ion-label>
          <ion-textarea name="memText" [(ngModel)]="memText" autoGrow=true rows=1 required=true autofocus=true>
          </ion-textarea>
        </ion-item>
        <br>
        <br>

        <ion-button block color="primary" type="submit">
          Create
        </ion-button>

        <ion-progress-bar type="indeterminate" *ngIf="showProgress"></ion-progress-bar>


      </form>
    </ion-card-content>
  </ion-card>
  <ion-card *ngFor="let memory of memories; let i = index">
    <ion-card-header>

      <ion-card-title>Awesome Title</ion-card-title>
    </ion-card-header>
    <img src={{memory.imageUrl}} alt="">
    <ion-card-content>
      {{memory.memText}}
    </ion-card-content>
    <ion-button (click)="deleteMemory(memory)" expand="block" fill="clear" shape="round" block color="danger">
      Delete
    </ion-button>
  </ion-card>
</ion-content>